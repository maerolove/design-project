# TEST VALIDATION ONLY THROUGH TESTS RULE

## НИКОГДА НЕ ТЕСТИРУЙ ВАЛИДАЦИЮ ЧЕРЕЗ CURL ИЛИ API НАПРЯМУЮ

## Запрещенные действия:
- Использование `curl` для тестирования валидации
- Прямые API вызовы к `/validate` через терминал
- Ручное тестирование через браузер
- Любое тестирование вне тестового фреймворка

## Разрешенные действия:
- Использование существующих тестов в `py/tests/`
- Создание новых тестов для валидации
- Использование pytest для запуска тестов
- Тестирование через тестовые фикстуры

## Примеры правильного подхода:
```python
# Правильно - через тесты
def test_validation():
    from services.esphome.validation import ESPHomeValidationService
    service = ESPHomeValidationService()
    result = await service.validate_config(yaml_content)
    assert result.valid == True
```

## Примеры неправильного подхода:
```python
# НЕПРАВИЛЬНО - прямые API вызовы
curl -X POST http://localhost:8000/validate -d '{"yaml_text": "..."}'
```

## Обновление правил:
- Всегда тестируй валидацию через pytest
- Используй существующие тестовые фикстуры
- Создавай новые тесты при необходимости
- НИКОГДА не используй curl для тестирования валидации